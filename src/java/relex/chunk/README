
                         Lexical Chunking
                         ----------------
                    Linas Vepstas, April 2008

Key ideas: 
 * Lexis is the basis of language.
 * Language consists of grammaticalized lexis, not lexicalized grammar.

See: Olga Moudraia, "Lexical Approach to Second Language Teaching"
http://www.cal.org/resources/digest/0102lexical.html

Alternate names: "gambits", "lexical phrases", "lexical units", 
"lexicalized stems", "speech formulae".


Definition of Lexical Chunks
----------------------------
Lexis may be single words, and also the word combinations that are a
basis of one's mental lexicon.  That is, language consists of meaningful
chunks that, when combined, produce continuous coherent text; only a
minority of spoken sentences are entirely novel creations.

Types of lexical chunks:
    * Words (e.g., book, pen)
    * Polywords (e.g., by the way, upside down)
    * Collocations, or word partnerships (e.g., community service,
      absolutely convinced)
    * Institutionalized utterances (e.g., I'll get it; We'll see; 
      That'll do; If I were you . . .; Would you like a cup of coffee?)
    * Sentence frames and heads (e.g., That is not as . . . as you think;
      The fact/suggestion/problem/danger was . . .) and even text frames 
      (e.g., In this paper we explore . . .; Firstly . . .; Secondly . . .;
      Finally . . .)

(Taken from Lewis, M. (1997b). "Pedagogical implications of the lexical 
approach." In J. Coady & T.  Huckin (Eds.), "Second language vocabulary 
acquisition: A rationale for pedagogy" (pp.  255-270). Cambridge: Cambridge 
University Press.)

The code in this directory can be used to obtain polywords and sentence
frames.  Three distinct mechanisms are encoded in this directory.

FindChucks::findBasicChunks() -- print out phrases identified via the 
     classical tree-bank style phrase tree.

FindChuncks::findObjectChunks() -- print out phrases based on the 
     binary RelEx relations -- e.g. object phraes, noun modifier phrases,
     prepositional phrases, etc.

MatchChunks::findChunks() -- print out lexical chunks based on matching
     to a collection of sentence patterns. The rest of this README file
     is concnered wth these sentence patterns.


Unit tests
----------

Sentence phrases
----------------
 * John Dillinger was a man who BROKE THE LAW.
   Desired answer: "broke the law"

      (S (NP John Dillinger) (VP was (NP (NP a man) (SBAR (WHNP who) (S (VP broke (NP the law)))))) .)

 * I'll DO it even IF IT KILLS me.
   Desired answer: "do ... if it kills"
      (SBAR if (S (NP it) (VP kills (NP me))))

   This is tricky, because the "do" will be embedded
   in a wide variety of phrase forms.

   XXX this is currently not deteted.


Verb phrases:
------------

 * General Custer gave the Sioux chief no quarter.
   The desired answer is "give ... no quarter". 

      (VP gave (NP the Sioux chief) (NP no quarter)) 

   Skip first NP, keep second.

 * I TOOK her TO the dance.
   Desired answer: "took ... to"

       (VP took (NP her) (PP to (NP the dance)))

   Skip both NP's, to get "took ... to"

 * He had A GOOD FEELING FOR that sort of thing.
   Desired answer: "a good feeling for"

      (VP had (NP a good feeling) (PP for (NP that sort of (NP thing))))

 * He will TAKE OFFICE ON monday.
   Desired answer: "take office on"

      (VP will (VP take office (PP on (NP Monday))))

   need to drop NP in PP, to get "take office on"
   Similarly: (VP was (VP filled (PP to (NP overflowing))))

 * The cup was FILLED TO overflowing.
     (VP was (VP filled (PP to (S (VP overflowing)))))

 * I was in love with that bunny.
   Desired answer: "in love with"

      (VP was (PP in (NP love)) (PP with (NP that bunny)))

   Drop leading VP, keep first NP, drop second NP.
   (drop first VP perhaps because its a copula?)
 
 * I RAN AWAY FROM home.
   I RAN AWAY FROM home at age two.
   Desired answer: "ran away from"

      (VP ran (PP away) (PP from (NP home)))
      (VP ran (PP away) (PP from (NP home)) (PP at (NP age two)))

   Keep the VP, and the first PP, and the second PP, 
   dropping NP in the second PP.
      (VP a (PP a) (PP a (NP r)) *)

 * It was A BITTER PILL TO SWALLOW.

      (VP was (NP a bitter pill) (S (VP to (VP swallow))))

   However, this also reports:
     She forced him to resign.
     (VP forced (NP him_1) (S (VP to (VP resign))))
     Phrase: (him to resign)      Character ranges: [11-24]
   -- so this needs modification; perhaps we should drop the final VP?

 * I didn't HAVE THE HEART TO tell hem.
      (VP didn't (VP have (NP the heart) (S (VP to (VP tell (NP him))))))

 * Let's GET IT OUT.
   Let's GET IT OUT in the open.
   Let's GET IT OUT in the open now.
	Let's PUT IT ON.

      (VP get (NP it) (PRT out))
      (VP get (NP it) (PRT out) (PP in (NP the open)))
      (VP get (NP it) (PRT out) (PP in (NP the open)) (PP now))


   The obvious pattern is (VP a (NP a) (PRT a) *) but this won't work
   with RelEx, because earlier stages mangle the snetence. The actual
   phrase becomes:
       (VP let's (VP get out (NP it) (PRT) (PP in (NP the open))))
   because the K link was used to merge "get" and "out". This, 
   ahem, wrecks the pattern matching.

Noun phrases:
-------------
 * I ate a wee bit of cheese.
   Desired answer: "a wee bit of"

       (NP (NP a wee bit) (PP of (NP cheese)))

   Drop NP after PP.
   a helping of, a hail of, a finger in

 * It is a day's march from home.
   Desired: "a day's march"

       (NP (NP (NP a day 's) march) (PP from (NP home)))

   Rule: three NP's are too deep.
   Otherwise, same as "a wee bit of cheese".

 * It is a couple of clicks down the road.
   Desired: "a couple of"

       (NP (NP a couple) (PP of (NP clicks)))

---------------

It's a good bet he did it.
(S (S (NP It) (VP 's (NP (NP a good bet) (SBAR (S (NP he) (VP did)))))) it .)

It's a good bet that he did it. 

Fails to parse. 


Pattern match:
--------------
a == accept, r == reject
(NP (NP a) (PP a (NP r)))   -- (NP (NP a couple) (PP of (NP clicks)))  -- a couple of
                            -- (NP (NP a wee bit) (PP of (NP cheese))) -- a wee bit of
(NP (NP (NP a) a) (PP r (NP r))) -- (NP (NP (NP a day 's) march) (PP from (NP home))) --  a day's march


(VP a (PP a (NP r)))        -- (VP take office (PP on (NP Monday)))            -- take office on
(VP a (VP a (PP a (NP r)))) -- (VP was (VP filled (PP to (NP overflowing)))) -- was filled to
(VP a (VP a (PP a (S (VP r))))) -- (VP was (VP filled (PP to (S (VP overflowing)))))-- was filled to
(VP a (NP r) (NP a))        -- (VP gave (NP the Sioux chief) (NP no quarter))  -- give ... no quarter.
(VP a (NP r) (PP a (NP r))) -- (VP took (NP her) (PP to (NP the dance)))       -- took ... to

(VP r (NP a) (S (VP a (VP r))))    -- (VP was (NP a bitter pill) (S (VP to (VP swallow)))) -- a bitter pill to

(VP r (VP a (NP a) (S (VP a (VP r (NP r)))))) -- (VP didn't (VP have (NP the heart) (S (VP to
(VP tell (NP him)))))) -- have the heart to.

(VP r (PP a (NP a)) (PP a (NP r))) -- (VP was (PP in (NP love)) (PP with (NP that bunny))) -- in love with
(VP r (NP a) (PP a (NP r (NP r)))) -- (VP had (NP a good feeling) (PP for (NP that sort of (NP thing)))) -- a good feeling for

(VP a (PP a) (PP a (NP r)) (PP r (NP r))) -- (VP ran (PP away) (PP from (NP home)) (PP at (NP age two))) -- ran away from


(S (VP a (NP a))) -- (VP was (NP (NP a man) (SBAR (WHNP who) (S (VP broke (NP the law)))))) -- broke the law.


Idioms:
That is a hard act to follow.
